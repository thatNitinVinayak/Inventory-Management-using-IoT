<html>
  <head>
    <title> Testing DB Connection </title>
  </head>

  <body>

    <table>
      <thead>
        <th> Name </th>
        <th> Price </th>
      </thead>

      <tbody id = "tbody1"> <tbody>
    </table>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCNRvnOergCp86UsbQftgGYLV9eg1fn_e8",
        authDomain: "testing-db-connection.firebaseapp.com",
        projectId: "testing-db-connection",
        storageBucket: "testing-db-connection.appspot.com",
        messagingSenderId: "210619243142",
        appId: "1:210619243142:web:c0ba93401ad2e931ff0f07"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      function SelectAllData() {
        firebase.database().ref('items').once ('value',
        function(AllRecords) {
          AllRecords.forEach (
            function(CurrentRecord) {
              var name = CurrentRecord.val().name;
              var price = CurrentRecord.val().price;
              AddItemsToTable(name,price);
            }
          );
        });
      }
      windows.onload = SelectAllData;

      function AddItemsToTable(name,price) {
        var tbody = document.getElementById('tbody1');
        var trow = document.createElement('tr');
        var td1 = document.createElement('td');
        var td2 = document.createElement('td');
        td1.innerHTML = name;
        td2.innerHTML = price;
        trow.appendChild(td1);
        trow.appendChild(td2);
        tbody.appendChild(trow);
      }
    </script>
  </body>
</html>